{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lorraine\\\\Desktop\\\\College 2020\\\\Semester 1\\\\Data Querying and Representation\\\\FinalProject\\\\react-final-project\\\\src\\\\components\\\\BookList\\\\edit.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport Paper from \"@material-ui/core/Paper\";\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from 'react-router-dom';\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    width: '18%'\n  }\n}); //Exports the contents of class 'edit' when called\n\n\nclass Edit extends React.Component {\n  //Render returns the <h3> contents \n  constructor() {\n    super(); //This binds contexts to the functions to be run later\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeAuthor = this.onChangeAuthor.bind(this);\n    this.onChangeYear = this.onChangeYear.bind(this);\n    this.onChangeRating = this.onChangeRating.bind(this);\n    this.onChangeGenre = this.onChangeGenre.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n    this.handleClose = this.handleClose.bind(this); //State stores data relevant to the component\n\n    this.state = {\n      title: '',\n      author: '',\n      year: '',\n      rating: '',\n      genre: '',\n      open: true\n    };\n  }\n\n  componentDidMount() {\n    //Returns a movie by id and updates the state of the movie\n    axios.get('http://localhost:4000/api/books/' + this.props.match.params.id).then(response => {\n      this.setState({\n        _id: response.data._id,\n        title: response.data.title,\n        author: response.data.author,\n        year: response.data.year,\n        rating: response.data.rating,\n        genre: response.data.genre\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeAuthor(e) {\n    this.setState({\n      author: e.target.value\n    });\n  }\n\n  onChangeYear(e) {\n    this.setState({\n      year: e.target.value\n    });\n  }\n\n  onChangeGenre(e) {\n    this.setState({\n      genre: e.target.value\n    });\n  }\n\n  onChangeRating(e) {\n    this.setState({\n      rating: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      open: false\n    });\n    window.location.href = \"/BookList/read/\";\n    const newBook = {\n      title: this.state.title,\n      author: this.state.author,\n      year: this.state.year,\n      rating: this.state.rating,\n      genre: this.state.genre\n    }; //calls findByIdAndUpdate method\n\n    axios.put('http://localhost:4000/api/books/' + this.state._id, newBook).then(res => {\n      console.log(res.data);\n    }).catch();\n  }\n\n  handleOpen() {\n    this.setState({\n      open: true\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      open: false\n    });\n    window.location.href = \"/BookList/read/\";\n  }\n\n  //<form> creates a form for the user to interact with and add movie information\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        \"aria-labelledby\": \"transition-modal-title\",\n        \"aria-describedby\": \"transition-modal-description\",\n        className: classes.modal,\n        open: this.state.open,\n        onClose: this.handleClose,\n        closeAfterTransition: true,\n        BackdropComponent: Backdrop,\n        BackdropProps: {\n          timeout: 500\n        },\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          in: this.state.open,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.paper,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                id: \"transition-modal-title\",\n                children: \"Edit Book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Book Name: \\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: this.state.title,\n                  onChange: this.onChangeTitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Book Author: \\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: this.state.author,\n                  onChange: this.onChangeAuthor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Year: \\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: this.state.year,\n                  onChange: this.onChangeYear\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Rating: \\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 42\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                onChange: this.onChangeRating,\n                name: \"size-large\",\n                defaultValue: this.state.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"genres\",\n                children: \"Genre: \\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: this.state.genre,\n                onChange: this.onChangeGenre,\n                name: \"genres\",\n                id: \"genres\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Fantasy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Historical Fiction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Horror\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Biography\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Contemporary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"contained\",\n                color: \"secondary\",\n                onClick: this.handleOpen.bind(this),\n                children: \"Edit Book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default withStyles(useStyles, {\n  withTheme: true\n})(Edit);","map":{"version":3,"sources":["C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/src/components/BookList/edit.js"],"names":["React","axios","Modal","Backdrop","Fade","Button","Paper","withStyles","makeStyles","Link","Rating","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","width","Edit","Component","constructor","onSubmit","bind","onChangeTitle","onChangeAuthor","onChangeYear","onChangeRating","onChangeGenre","handleOpen","handleClose","state","title","author","year","rating","genre","open","componentDidMount","get","props","match","params","id","then","response","setState","_id","data","catch","error","console","log","e","target","value","preventDefault","window","location","href","newBook","put","res","render","classes","timeout","withTheme"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport {Link} from 'react-router-dom';\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\n\r\nconst useStyles = theme => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n      width: '18%',\r\n    },\r\n    \r\n  });\r\n\r\n//Exports the contents of class 'edit' when called\r\nclass Edit extends React.Component {\r\n\r\n    //Render returns the <h3> contents \r\n    constructor() {\r\n        super();\r\n\r\n       //This binds contexts to the functions to be run later\r\n       this.onSubmit = this.onSubmit.bind(this);\r\n       this.onChangeTitle = this.onChangeTitle.bind(this)\r\n       this.onChangeAuthor = this.onChangeAuthor.bind(this);\r\n       this.onChangeYear = this.onChangeYear.bind(this);\r\n       this.onChangeRating = this.onChangeRating.bind(this);\r\n       this.onChangeGenre = this.onChangeGenre.bind(this);\r\n       this.handleOpen = this.handleOpen.bind(this);\r\n       this.handleClose = this.handleClose.bind(this);\r\n\r\n       //State stores data relevant to the component\r\n       this.state = {\r\n           title: '',\r\n           author: '',\r\n           year: '',\r\n           rating: '',\r\n           genre: '',\r\n            open: true,\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n    \r\n        //Returns a movie by id and updates the state of the movie\r\n        axios.get('http://localhost:4000/api/books/'+this.props.match.params.id)\r\n        .then(response =>{\r\n            this.setState({\r\n                _id:response.data._id,\r\n                title:response.data.title,\r\n                author:response.data.author,\r\n                year:response.data.year,\r\n                rating:response.data.rating,\r\n                genre:response.data.genre\r\n            })\r\n        })\r\n        .catch((error)=>{\r\n            console.log(error);\r\n        });\r\n    }\r\n    onChangeTitle(e) {\r\n        this.setState({\r\n            title: e.target.value\r\n        })\r\n    }\r\n    onChangeAuthor(e) {\r\n        this.setState({\r\n            author: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeYear(e) {\r\n        this.setState({\r\n            year: e.target.value\r\n        })\r\n    }\r\n    onChangeGenre(e) {\r\n        this.setState({\r\n            genre: e.target.value\r\n        })\r\n    }\r\n    onChangeRating(e) {\r\n        this.setState({\r\n            rating: e.target.value\r\n        })\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n\r\n    this.setState({ open: false });\r\n    window.location.href = \"/BookList/read/\"; \r\n    const newBook = {\r\n        title: this.state.title,\r\n        author: this.state.author,\r\n        year: this.state.year,\r\n        rating: this.state.rating,\r\n        genre: this.state.genre\r\n        \r\n    }\r\n         \r\n            //calls findByIdAndUpdate method\r\n     axios.put('http://localhost:4000/api/books/'+this.state._id, newBook)\r\n        .then(res =>{\r\n            console.log(res.data)\r\n         })\r\n        .catch();\r\n            \r\n    }\r\n    handleOpen() {\r\n        this.setState({ open: true });\r\n    };\r\n    \r\n    handleClose(){\r\n        this.setState({ open: false });\r\n        window.location.href = \"/BookList/read/\"; \r\n    };\r\n\r\n    \r\n    //<form> creates a form for the user to interact with and add movie information\r\n    render() {\r\n        \r\n        const { classes } = this.props;\r\n        return (\r\n            <div>\r\n                \r\n                <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={this.state.open}\r\n        onClose={this.handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={this.state.open}>\r\n          <div className={classes.paper}>\r\n          <form onSubmit={this.onSubmit}>\r\n            <h2 id=\"transition-modal-title\">Edit Book</h2>\r\n            <div className=\"form-group\"><label>Book Name: &nbsp;</label>\r\n            <input type='text' className='form-control' value={this.state.title} onChange={this.onChangeTitle}></input></div>\r\n            <br></br>\r\n            <div className=\"form-group\"><label>Book Author: &nbsp;</label>\r\n            <input type='text' className='form-control' value={this.state.author} onChange={this.onChangeAuthor}></input></div>\r\n            <br></br>\r\n            <div className=\"form-group\"><label>Year: &nbsp;</label>\r\n            <input type='text' className='form-control' value={this.state.year}  onChange={this.onChangeYear}></input></div>\r\n            <br></br>\r\n            <label>Rating: &nbsp;</label><br></br>\r\n            <Rating onChange={this.onChangeRating} name=\"size-large\" defaultValue={this.state.rating}/>\r\n            <br></br><br></br>\r\n            <label for=\"genres\">Genre: &nbsp;</label>\r\n            <select value={this.state.genre}  onChange={this.onChangeGenre} name=\"genres\" id=\"genres\">\r\n            <option>Fantasy</option>\r\n            <option>Historical Fiction</option>\r\n            <option>Horror</option>\r\n            <option>Biography</option>\r\n            <option>Contemporary</option>\r\n            <option>Other</option>\r\n            </select>\r\n            <br></br><br></br>\r\n            <Button type='submit' variant=\"contained\" color=\"secondary\"  onClick={this.handleOpen.bind(this)}>\r\n        Edit Book\r\n      </Button>\r\n      </form>\r\n          </div>\r\n        </Fade>\r\n      \r\n      </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withStyles(useStyles, { withTheme: true })(Edit)"]},"metadata":{},"sourceType":"module"}