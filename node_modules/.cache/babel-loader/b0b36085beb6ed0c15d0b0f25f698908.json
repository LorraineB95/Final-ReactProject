{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';//Exports the contents of class 'edit' when called\nexport var Edit=/*#__PURE__*/function(_React$Component){_inherits(Edit,_React$Component);var _super=_createSuper(Edit);//Render returns the <h3> contents \nfunction Edit(){var _this;_classCallCheck(this,Edit);_this=_super.call(this);//This binds contexts to the functions to be run later\n_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeYear=_this.onChangeYear.bind(_assertThisInitialized(_this));_this.onChangePoster=_this.onChangePoster.bind(_assertThisInitialized(_this));//State stores data relevant to the component\n_this.state={title:'',year:'',poster:''};return _this;}//e.target.value is the value property of the DOM element, ie the info submitted in the form\n//This is when the functions are called\n//componentDidMount is the lifecycle hook\n_createClass(Edit,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.props.match.params.id);//Returns a movie by id and updates the state of the movie\naxios.get('http://localhost:4000/api/movies/'+this.props.match.params.id).then(function(response){_this2.setState({_id:response.data._id,title:response.data.title,year:response.data.year,poster:response.data.poster});}).catch(function(error){console.log(error);});}},{key:\"onChangeTitle\",value:function onChangeTitle(e){this.setState({title:e.target.value});}},{key:\"onChangePoster\",value:function onChangePoster(e){this.setState({poster:e.target.value});}},{key:\"onChangeYear\",value:function onChangeYear(e){this.setState({year:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();//alert returns a pop up so we know the data has been entered\nconsole.log(this.state.title);console.log(this.state.year);console.log(this.state.poster);alert(\"Movie:\"+this.state.title+\" \"+this.state.year+\" \"+this.state.poster);var newMovie={title:this.state.title,year:this.state.year,poster:this.state.poster,_id:this.state._id};//calls findByIdAndUpdate method\naxios.put('http://localhost:4000/api/movies/'+this.state._id,newMovie).then(function(res){console.log(res.data);}).catch();}//<form> creates a form for the user to interact with and add movie information\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"95%\",float:\"right\"},className:\"App\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Add Movie Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:this.state.title,onChange:this.onChangeTitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Add Movie Year:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:this.state.year,onChange:this.onChangeYear})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Movie Poster:\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",value:this.state.poster,onChange:this.onChangePoster})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Edit Movie\",className:\"btn btn-primary\"})})]})});}}]);return Edit;}(React.Component);","map":{"version":3,"sources":["C:/Users/Lorraine/Desktop/College 2020/Semester 1/Data Querying and Representation/FinalProject/react-final-project/src/components/BookList/edit.js"],"names":["React","axios","Edit","onSubmit","bind","onChangeTitle","onChangeYear","onChangePoster","state","title","year","poster","console","log","props","match","params","id","get","then","response","setState","_id","data","catch","error","e","target","value","preventDefault","alert","newMovie","put","res","width","float","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\n//Exports the contents of class 'edit' when called\r\nexport class Edit extends React.Component {\r\n\r\n    //Render returns the <h3> contents \r\n    constructor() {\r\n        super();\r\n\r\n        //This binds contexts to the functions to be run later\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeYear = this.onChangeYear.bind(this);\r\n        this.onChangePoster = this.onChangePoster.bind(this);\r\n\r\n        //State stores data relevant to the component\r\n        this.state = {\r\n            title: '',\r\n            year: '',\r\n            poster: '',\r\n        }\r\n    }\r\n    //e.target.value is the value property of the DOM element, ie the info submitted in the form\r\n    //This is when the functions are called\r\n    //componentDidMount is the lifecycle hook\r\n    componentDidMount(){\r\n        console.log(this.props.match.params.id);\r\n\r\n        //Returns a movie by id and updates the state of the movie\r\n        axios.get('http://localhost:4000/api/movies/'+this.props.match.params.id)\r\n        .then(response =>{\r\n            this.setState({\r\n                _id:response.data._id,\r\n                title:response.data.title,\r\n                year:response.data.year,\r\n                poster:response.data.poster\r\n            })\r\n        })\r\n        .catch((error)=>{\r\n            console.log(error);\r\n        });\r\n    }\r\n    onChangeTitle(e) {\r\n        this.setState({\r\n            title: e.target.value\r\n        })\r\n    }\r\n    onChangePoster(e) {\r\n        this.setState({\r\n            poster: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeYear(e) {\r\n        this.setState({\r\n            year: e.target.value\r\n        })\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //alert returns a pop up so we know the data has been entered\r\n\r\n    console.log(this.state.title);\r\n    console.log(this.state.year);\r\n    console.log(this.state.poster);\r\n\r\n        alert(\"Movie:\" + this.state.title + \" \" + this.state.year\r\n            + \" \" + this.state.poster);\r\n            const newMovie = {\r\n                title: this.state.title,\r\n                year: this.state.year,\r\n                poster: this.state.poster,\r\n                _id: this.state._id\r\n            }\r\n         \r\n            //calls findByIdAndUpdate method\r\n            axios.put('http://localhost:4000/api/movies/'+this.state._id, newMovie)\r\n            .then(res =>{\r\n                console.log(res.data)\r\n            })\r\n            .catch();\r\n            \r\n    }\r\n\r\n    //<form> creates a form for the user to interact with and add movie information\r\n    render() {\r\n        return (\r\n            <div style={{ width: \"95%\", float: \"right\",}} className='App'>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Add Movie Title</label>\r\n                        <input type='text'\r\n                            className='form-control'\r\n                            value={this.state.title}\r\n                            onChange={this.onChangeTitle}></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Add Movie Year:</label>\r\n                        <input type='text'\r\n                            className='form-control'\r\n                            value={this.state.year}\r\n                            onChange={this.onChangeYear}>\r\n                        </input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Movie Poster:</label>\r\n                        <textarea type='text'\r\n                            className='form-control'\r\n                            value={this.state.poster}\r\n                            onChange={this.onChangePoster}>\r\n                        </textarea>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <input type='submit'\r\n                            value='Edit Movie'\r\n                            className='btn btn-primary'></input>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}